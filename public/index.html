<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="style.css" type="text/css">
    <title>podio</title>
  </head>

  <body>
    <div class = "topbar">
    </div>

    <div class = "spicy">
      <h1>welcome to <em>asian pear</em></h1>
    </div>
  <p class ="intro"> hey mamas join khws from 9-10 every wednesday @ mixlr.com/khws </p>
  <p> things we <strong>excel</strong> at</p>
  <ul>
    <li> having meaningful conversations</li>
    <li> playing a <em>diverse and well ordered</em> hour of music </li>
    <li> preparing our setlists really early in advance </li>
</ul>

    <div class = "box2"> probably a description!</div>
    <div class = "buttons">
    <div class = "box1"> button 1</div>
    <div class = "box1"> button 2</div>
    <div class = "box1"> button 3?</div>
  </div>

  <div class = "simon">
    <button class = "start" id ="start">START GAME</button>
    <br>
    <button class = "b1" id = "b1">button1</button>
    <button class = "b2" id = "b2">button2</button>
    <br>
    <button class = "b3" id = "b3">button3</button>
    <button class = "b4" id = "b4">button4</button>
  </div>
  </body>

  <script>


  function chooseRandom(){
      var random =  Math.floor(Math.random() * (4) + 1);
      var classString = "b" + random;

      return classString;
      var random2 =  Math.floor(Math.random() * (4) + 1);
      var classString2 = "b" + random2;

  }

  function highlightClick(buttonid){
    var buttonClicked = document.getElementById(buttonid)
    var currentClass = buttonClicked.classList.toString();
    buttonClicked.classList.remove(currentClass);
    var newColor = currentClass + "clicked";
    buttonClicked.classList.add(newColor);
  }

  function unhighlightClick(buttonid){
    var buttonClicked = document.getElementById(buttonid)
    var currentClass = buttonClicked.classList.toString();
    buttonClicked.classList.remove(currentClass);
    buttonClicked.classList.add(currentClass.substring(0,2));
  }

  //function clicked(){
  //  highlightClick(this.id);
  //  setTimeout(() => {unhighlightClick(this.id)}, 500);
//  }

function clicked(chosenSquare){
    highlightClick(chosenSquare);
    setTimeout(() => {unhighlightClick(chosenSquare)}, 500);
  }

function runGame(){
  var hasNotLost = true;



  var pattern = [];
  nextSquare = chooseRandom();
  addtopattern(pattern, nextSquare);
  // this will be function to add it to stored pattern addtopattern();
  while (hasNotLost == true){
    playerpattern = [];
    pattern = showpatterns(pattern);
    patterncopy = pattern;

    document.getElementById("b1").addEventListener("click", (event)=>{
      clicked("b1");
      playerpattern.push("b1");
      if("b1" == patterncopy[0]){
        patterncopy.shift();
      }
      else{
        hasNotLost = false;
        alert("wrong, game over haha");
      }
    })

    document.getElementById("b2").addEventListener("click", (event)=>{
      clicked("b2");
      playerpattern.push("b2");
      if("b2" == patterncopy[0]){
        patterncopy.shift();
      }
      else{
        hasNotLost = false;
        alert("wrong, game over haha");
      }
    })

    document.getElementById("b3").addEventListener("click", (event)=>{
      clicked("b3");
      playerpattern.push("b3");
      if("b3" == patterncopy[0]){
        patterncopy.shift();
      }
      else{
        hasNotLost = false;
        alert("wrong, game over haha");
      }
    })

    document.getElementById("b4").addEventListener("click", (event)=>{
      clicked("b4");
      playerpattern.push("b4");
      if("b4" == patterncopy[0]){
        patterncopy.shift();
      }
      else{
        alert("wrong, game over haha");
      }
    })

  }
}
//if guesses wrong pattern then webtesthonorstopicsrhea


function showpatterns(pattern){

    for(i = 0; i<pattern.length; i++){
      clicked(pattern[i]);

  }

  nextRandom = chooseRandom();
  clicked(nextRandom);

  addtopattern(pattern, nextRandom);
  return pattern;//say pattern = showpatterns(pattern)
}

function addtopattern(pattern, push){
  pattern.push(push);
}

//document.getElementById("start").addEventListener("click", runGame());

  </script>

</html>
